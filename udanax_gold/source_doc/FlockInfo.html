<html>
<html>
<head>
<title>Class FlockInfo</title>
</head><body>
<a href="index.html">Index</a> - <a href="AllPackages.html">All Packages</a> - <a href="AllCategories.html">All Categories</a> - <a href="AllClasses.html">All Classes</a><br><h1>Class FlockInfo</h1>
<font color="green">Contains all the information the packer needs to know about the flock on disk (except forwarder stuff).  The packer knows about forwarders by having several <a href="FlockInfo.html">FlockInfo</a> objects for the same flock.  We should consider having a separate class for forward information that does not contain the flags and the oldSize.<br><br>myOldSize - this is the size of the flock on disk as of the last commit.  If this is zero, it is uninitialized.  This is used to refitting without bringing in the snarf for this flock.<br><br>myFlags - keeps track of whether the receive is a new flock (isn't on disk yet), is forgotten, is in the process is fchanging its forggten state (isChanging), and is Update (contents have changed).<br></font></p>Package: <a href="Package_Udanax-Gold.html">Udanax-Gold</a><br>All Superclasses: <a href="Object.html">Object</a> <a href="Heaper.html">Heaper</a> <a href="FlockLocation.html">FlockLocation</a> <br>Immediate Subclasses: <a href="TestFlockInfo.html">TestFlockInfo</a> <br>Protocols: <a href="Protocol_Object.html">Object</a><br>Categories: <a href="Category_Xanadu-Snarf.html">Xanadu-Snarf</a><br><hr><h2>Class Methods</h3><a name="#contentsDirty"><h4><font color="blue">contentsDirty</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#destroyed"><h4><font color="blue">destroyed</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#dismantled"><h4><font color="blue">dismantled</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#forgotten:with:with:"><h4><font color="blue">forgotten:</font> shep <font color="blue">with:</font> snarfID <font color="blue">with:</font> index </h4></a><blockquote><font color="green"><br></font><br>Overridden by: <a href="TestFlockInfo.html#forgotten:with:with:">TestFlockInfo class</a> </blockquote><a name="#forgottenMask"><h4><font color="blue">forgottenMask</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#forgottenStateDirty"><h4><font color="blue">forgottenStateDirty</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#forwarded"><h4><font color="blue">forwarded</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#getInfo:"><h4><font color="blue">getInfo:</font> index </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#isNewMask"><h4><font color="blue">isNewMask</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#make:with:"><h4><font color="blue">make:</font> shep <font color="blue">with:</font> index </h4></a><blockquote><font color="green">Make a ShepherdLocation for a new shepherd. Index is the index into <br>	the new flocks table in the snarfPacker. The newmask indicates <br>	that the index is into the newFlocks table rather than a snarf.<br></font><br>Overrides: <a href="FlockLocation.html#make:with:">FlockLocation class</a><br>Overridden by: <a href="TestFlockInfo.html#make:with:">TestFlockInfo class</a> </blockquote><a name="#make:with:with:"><h4><font color="blue">make:</font> info <font color="blue">with:</font> snarfID <font color="blue">with:</font> index </h4></a><blockquote><font color="green">Make a flockInfo to a new location for the same shepherd.  Clear the new flag, and keep the rest the same.<br></font><br>Overridden by: <a href="TestFlockInfo.html#make:with:with:">TestFlockInfo class</a> </blockquote><a name="#remembered:with:with:"><h4><font color="blue">remembered:</font> shep <font color="blue">with:</font> snarfID <font color="blue">with:</font> index </h4></a><blockquote><font color="green"><br></font><br>Overridden by: <a href="TestFlockInfo.html#remembered:with:with:">TestFlockInfo class</a> </blockquote><a name="#removeInfo:"><h4><font color="blue">removeInfo:</font> token </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#shepNilInPersistent"><h4><font color="blue">shepNilInPersistent</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#staticTimeNonInherited"><h4><font color="blue">staticTimeNonInherited</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#testContentsDirty:"><h4><font color="blue">testContentsDirty:</font> info </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#testForgotten:"><h4><font color="blue">testForgotten:</font> info </h4></a><blockquote><font color="green"><br></font></blockquote><hr><h2>Instance Methods</h3><a name="#clearContentsDirty"><h4><font color="blue">clearContentsDirty</font> </h4></a><blockquote><font color="green">Reset my contentsDirty flag.  This is primarily used to know when a flock has<br>	 changed again after some info has been computed from it.<br></font></blockquote><a name="#commitFlags"><h4><font color="blue">commitFlags</font> </h4></a><blockquote><font color="green">A write to the disk has happened.  Commit all the changes in the flags.<br></font></blockquote><a name="#create:with:with:with:with:"><h4><font color="blue">create:</font> shep <font color="blue">with:</font> snarfID <font color="blue">with:</font> index <font color="blue">with:</font> flags <font color="blue">with:</font> size </h4></a><blockquote><font color="green"><br></font><br>Overridden by: <a href="TestFlockInfo.html#create:with:with:with:with:">TestFlockInfo</a> </blockquote><a name="#fetchShepherd"><h4><font color="blue">fetchShepherd</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#flags"><h4><font color="blue">flags</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#flockHash"><h4><font color="blue">flockHash</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#forward:"><h4><font color="blue">forward:</font> index </h4></a><blockquote><font color="green">As a freshly forwarded flock, I'll be treated as new for a while.<br></font></blockquote><a name="#getShepherd"><h4><font color="blue">getShepherd</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#isContentsDirty"><h4><font color="blue">isContentsDirty</font> </h4></a><blockquote><font color="green">Return true if my shepherd has changed and informed the <a href="SnarfPacker.html">SnarfPacker</a>.<br></font></blockquote><a name="#isDestroyed"><h4><font color="blue">isDestroyed</font> </h4></a><blockquote><font color="green">Return true if our shepherd has received destroy<br></font></blockquote><a name="#isDirty"><h4><font color="blue">isDirty</font> </h4></a><blockquote><font color="green">Return true if anything about my flock is changing (including if the flock is new).<br></font></blockquote><a name="#isDismantled"><h4><font color="blue">isDismantled</font> </h4></a><blockquote><font color="green">Return true if our shepherd has been dismantled<br></font></blockquote><a name="#isForgotten"><h4><font color="blue">isForgotten</font> </h4></a><blockquote><font color="green">Return true if my Shepherd's new state is it should be forgotten.<br></font></blockquote><a name="#isForgottenStateDirty"><h4><font color="blue">isForgottenStateDirty</font> </h4></a><blockquote><font color="green">Return true if the shepherd I describe is changing between being forgotten and being remembered.<br></font></blockquote><a name="#isForwarded"><h4><font color="blue">isForwarded</font> </h4></a><blockquote><font color="green">Return true if my shepherd has been forwarded.<br></font></blockquote><a name="#isNew"><h4><font color="blue">isNew</font> </h4></a><blockquote><font color="green">Return true if the associated flock is new.  If so, myIndex<br>	 is an offset into the new flocks table inside the <a href="SnarfPacker.html">SnarfPacker</a>.<br></font></blockquote><a name="#markContentsDirty"><h4><font color="blue">markContentsDirty</font> </h4></a><blockquote><font color="green"><a href="Set.html">Set</a> my contentsDirty flag.  Return false if I was already dirty (in either way).<br></font></blockquote><a name="#markDestroyed"><h4><font color="blue">markDestroyed</font> </h4></a><blockquote><font color="green"><a href="Set.html">Set</a> my shepNil flag.<br></font></blockquote><a name="#markDismantled"><h4><font color="blue">markDismantled</font> </h4></a><blockquote><font color="green"><a href="Set.html">Set</a> my Dismantled flag.  BLAST if already set.<br></font></blockquote><a name="#markForgotten"><h4><font color="blue">markForgotten</font> </h4></a><blockquote><font color="green"><a href="Set.html">Set</a> my Forgotten flag.  Return false if I was already dirty.<br></font></blockquote><a name="#markRemembered"><h4><font color="blue">markRemembered</font> </h4></a><blockquote><font color="green">Clear my Forgotten flag.  Return false if I was already dirty.<br></font></blockquote><a name="#markShepNil"><h4><font color="blue">markShepNil</font> </h4></a><blockquote><font color="green"><a href="Set.html">Set</a> my shepNil flag.<br></font></blockquote><a name="#oldSize"><h4><font color="blue">oldSize</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#printOn:"><h4><font color="blue">printOn:</font> oo </h4></a><blockquote><font color="green"><br></font><br>Overrides: <a href="FlockLocation.html#printOn:">FlockLocation</a></blockquote><a name="#registerInfo"><h4><font color="blue">registerInfo</font> </h4></a><blockquote><font color="green">Register this info as the best known informatino about the flock.<br></font></blockquote><a name="#setSize:"><h4><font color="blue">setSize:</font> size </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#token"><h4><font color="blue">token</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#wasForgotten"><h4><font color="blue">wasForgotten</font> </h4></a><blockquote><font color="green">Return true if my shepherd was forgotten after the last commit.<br></font></blockquote><a name="#wasShepNilInPersistent"><h4><font color="blue">wasShepNilInPersistent</font> </h4></a><blockquote><font color="green">Return true if our shepherd pointer was nil in makePersistent<br></font></blockquote><br><br><a href="index.html">Index</a> - <a href="AllPackages.html">All Packages</a> - <a href="AllCategories.html">All Categories</a> - <a href="AllClasses.html">All Classes</a><br></body>
</html>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5004449-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
</body>
</html>
