<html>
<html>
<head>
<title>Class CanopyCrum</title>
</head><body>
<a href="index.html">Index</a> - <a href="AllPackages.html">All Packages</a> - <a href="AllCategories.html">All Categories</a> - <a href="AllClasses.html">All Classes</a><br><h1>Class CanopyCrum</h1>
<font color="green"><a href="CanopyCrum.html">CanopyCrums</a> form binary trees that acrete in a balanced fashion.  No rebalancing ever happens.  Things are simply added to the tree up to the point thta the tree is balanced, then the height of the tree gets extended at the root.<br><br>Essentially, when the join of two trees is asked for, if the two trees aren't already parts of a larger tree, the algorithm attempts to find a place in one tree into which the other tree could completely fit without violating the depth constraint on the tree.  It then returns the nearest root that contains both trees.  If it can't put one tree into the other, then it makes a new node that joins the two trees (probably with room to add other stuff deeper down).<br><br>myRefCount is only the count of <a href="Loaf.html">Loafs</a> or HCrums that point at the <a href="CanopyCrum.html">CanopyCrum</a>.  It doesn't include other <a href="CanopyCrum.html">CanopyCrums</a>.<br><br>12/2/92 <a href="Ravi.html">Ravi</a><br>PropJoints have been suspended, and their function has been replaced by flag words in the <a href="CanopyCrum.html">CanopyCrum</a>. Any interesting Club or endorsement gets a bit, and there is a bit for "any other Club" and "any other endorsement". Any criteria not given a bit of their own require an exhaustive search. These flags are widded by ORing up the canopy. When we start using more sophisticated hashing strategies, we will probably need to reanimate PropJoints.<br></font></p>Package: <a href="Package_Udanax-Gold.html">Udanax-Gold</a><br>All Superclasses: <a href="Object.html">Object</a> <a href="Heaper.html">Heaper</a> <a href="Abraham.html">Abraham</a> <br>Immediate Subclasses: <a href="BertCrum.html">BertCrum</a> <a href="SensorCrum.html">SensorCrum</a> <br>Protocols: <a href="Protocol_Object.html">Object</a><br>Categories: <a href="Category_Xanadu-Be-Canopy.html">Xanadu-Be-Canopy</a><br><hr><h2>Class Methods</h3><a name="#endorsementFlagLimit"><h4><font color="blue">endorsementFlagLimit</font> </h4></a><blockquote><font color="green">Max number of special endorsement flags<br></font></blockquote><a name="#endorsementsFlags:"><h4><font color="blue">endorsementsFlags:</font> endorsements </h4></a><blockquote><font color="green">Flag bits corresponding to endorsements<br></font></blockquote><a name="#firstEndorsementsFlag"><h4><font color="blue">firstEndorsementsFlag</font> </h4></a><blockquote><font color="green">Rightmost flag for interesting endorsements<br></font></blockquote><a name="#initTimeNonInherited"><h4><font color="blue">initTimeNonInherited</font> </h4></a><blockquote><font color="green"><br></font><br>Overrides: <a href="Abraham.html#initTimeNonInherited">Abraham class</a></blockquote><a name="#linkTimeNonInherited"><h4><font color="blue">linkTimeNonInherited</font> </h4></a><blockquote><font color="green"><br></font><br>Overrides: <a href="Abraham.html#linkTimeNonInherited">Abraham class</a></blockquote><a name="#otherClubsFlag"><h4><font color="blue">otherClubsFlag</font> </h4></a><blockquote><font color="green">The flag for any other Clubs<br></font></blockquote><a name="#otherEndorsementsFlag"><h4><font color="blue">otherEndorsementsFlag</font> </h4></a><blockquote><font color="green">Flag for all uninteresting endorsements<br></font></blockquote><a name="#permissionsFlags:"><h4><font color="blue">permissionsFlags:</font> permissions </h4></a><blockquote><font color="green">Flag bits corresponding to permissions<br></font></blockquote><a name="#publicClubFlag"><h4><font color="blue">publicClubFlag</font> </h4></a><blockquote><font color="green">The flag for the Universal Public Club<br></font></blockquote><a name="#useEndorsementFlags:"><h4><font color="blue">useEndorsementFlags:</font> endorsements </h4></a><blockquote><font color="green">Use a special flag to look for any of the these endorsements<br></font></blockquote><hr><h2>Instance Methods</h3><a name="#addPointer:"><h4><font color="blue">addPointer:</font> ignored </h4></a><blockquote><font color="green">Keep a refcount of diskful pointers to myself for disk space management.  (Maybe backpointers later.)<br></font></blockquote><a name="#another"><h4><font color="blue">another</font> </h4></a><blockquote><font color="green">Return another instance of the same<br>	 class for testing purposes.<br></font><br>Overridden by: <a href="BertCrum.html#another">BertCrum</a> <a href="SensorCrum.html#another">SensorCrum</a> </blockquote><a name="#canopyCache"><h4><font color="blue">canopyCache</font> </h4></a><blockquote><font color="green"><br></font><br>Overridden by: <a href="BertCrum.html#canopyCache">BertCrum</a> <a href="SensorCrum.html#canopyCache">SensorCrum</a> </blockquote><a name="#changeCanopy"><h4><font color="blue">changeCanopy</font> </h4></a><blockquote><font color="green">Figure out new props, etc. Return true if any changes may require further propagation<br></font></blockquote><a name="#changeCanopy:"><h4><font color="blue">changeCanopy:</font> change </h4></a><blockquote><font color="green">Figure out new height, props, etc. Return true if any changes may require further propagation<br></font><br>Overridden by: <a href="SensorCrum.html#changeCanopy:">SensorCrum</a> </blockquote><a name="#changeHeight"><h4><font color="blue">changeHeight</font> </h4></a><blockquote><font color="green">Figure out new height. Return true if changes may require further propagation<br></font></blockquote><a name="#childArray"><h4><font color="blue">childArray</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#children"><h4><font color="blue">children</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#computeJoin:"><h4><font color="blue">computeJoin:</font> otherBCrum </h4></a><blockquote><font color="green">Find a canopyCrum that is an anscestor to <br>	 both the receiver and otherBCrum. otherBCrum <br>	 is added to the canopy in a pseudo-balanced fashion. <br>	 This demonstrates the beauty and power of caching<br>	 in object-oriented systems.<br></font></blockquote><a name="#contentsHash"><h4><font color="blue">contentsHash</font> </h4></a><blockquote><font color="green">This is only used by the <a href="TestPacker.html">TestPacker</a>, so it includes all persistent state whether or not<br>	 it is semantically interesting--myRefCount is not semantically interesting.<br></font><br>Overrides: <a href="Abraham.html#contentsHash">Abraham</a></blockquote><a name="#create:"><h4><font color="blue">create:</font> flags </h4></a><blockquote><font color="green">Make a canopyCrum for a root:  it has no children.<br></font><br>Overrides: <a href="Abraham.html#create:">Abraham</a><br>Overridden by: <a href="SensorCrum.html#create:">SensorCrum</a> </blockquote><a name="#create:with:with:"><h4><font color="blue">create:</font> flags <font color="blue">with:</font> first <font color="blue">with:</font> second </h4></a><blockquote><font color="green">prop must be empty<br></font></blockquote><a name="#createRcvr:"><h4><font color="blue">createRcvr:</font> receiver </h4></a><blockquote><font color="green"><br></font><br>Overrides: <a href="Abraham.html#createRcvr:">Abraham</a><br>Overridden by: <a href="BertCrum.html#createRcvr:">BertCrum</a> <a href="SensorCrum.html#createRcvr:">SensorCrum</a> </blockquote><a name="#dismantle"><h4><font color="blue">dismantle</font> </h4></a><blockquote><font color="green"><br></font><br>Overrides: <a href="Abraham.html#dismantle">Abraham</a></blockquote><a name="#displayString"><h4><font color="blue">displayString</font> </h4></a><blockquote><font color="green"><br></font><br>Overrides: <a href="Object.html#displayString">Object</a><br>Overridden by: <a href="SensorCrum.html#displayString">SensorCrum</a> </blockquote><a name="#expand"><h4><font color="blue">expand</font> </h4></a><blockquote><font color="green">split into two if possible, return the two leaves<br></font></blockquote><a name="#fetchChild1"><h4><font color="blue">fetchChild1</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#fetchChild2"><h4><font color="blue">fetchChild2</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#fetchParent"><h4><font color="blue">fetchParent</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#flags"><h4><font color="blue">flags</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#fullChange"><h4><font color="blue">fullChange</font> </h4></a><blockquote><font color="green"><br></font><br>Overridden by: <a href="BertCrum.html#fullChange">BertCrum</a> <a href="SensorCrum.html#fullChange">SensorCrum</a> </blockquote><a name="#heightDiff"><h4><font color="blue">heightDiff</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#includeCanopy:"><h4><font color="blue">includeCanopy:</font> otherCanopy </h4></a><blockquote><font color="green">Install otherCanopy at or below the receiver. If the otherCanopy fits in a lower branch, put it there. Otherwise, replace the shortest child with a new child that contains the shortest child and otherCanopy.<br></font></blockquote><a name="#inspect"><h4><font color="blue">inspect</font> </h4></a><blockquote><font color="green"><br></font><br>Overrides: <a href="Object.html#inspect">Object</a></blockquote><a name="#inspectSubCanopy:"><h4><font color="blue">inspectSubCanopy:</font> start </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#isLE:"><h4><font color="blue">isLE:</font> other </h4></a><blockquote><font color="green">Return true if other is equal to the receiver<br>	 or an anscestor (through the parent links). <br>	 Use caches for efficiency.<br></font></blockquote><a name="#isLeaf"><h4><font color="blue">isLeaf</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#joint"><h4><font color="blue">joint</font> </h4></a><blockquote><font color="green">Return the abstracted information necessary to determine whether anything leafward may pass the filtering criteria.<br></font></blockquote><a name="#makeNew"><h4><font color="blue">makeNew</font> </h4></a><blockquote><font color="green"><br></font><br>Overridden by: <a href="BertCrum.html#makeNew">BertCrum</a> <a href="SensorCrum.html#makeNew">SensorCrum</a> </blockquote><a name="#makeNewParent:with:"><h4><font color="blue">makeNewParent:</font> first <font color="blue">with:</font> second </h4></a><blockquote><font color="green">Make a new crum that contains both first and second.<br>	This method just makes a new parent whose properties are empty. My client must bring my properties up to date<br></font><br>Overridden by: <a href="BertCrum.html#makeNewParent:with:">BertCrum</a> <a href="SensorCrum.html#makeNewParent:with:">SensorCrum</a> </blockquote><a name="#maxHeight"><h4><font color="blue">maxHeight</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#minHeight"><h4><font color="blue">minHeight</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#ownFlags"><h4><font color="blue">ownFlags</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#propChanger:with:"><h4><font color="blue">propChanger:</font> change <font color="blue">with:</font> prop </h4></a><blockquote><font color="green">Return an <a href="AgendaItem.html">AgendaItem</a> to propagate properties.<br>	<br>	NOTE: The <a href="AgendaItem.html">AgendaItem</a> returned is not yet scheduled.  Doing so is up to my caller.<br></font></blockquote><a name="#refCount"><h4><font color="blue">refCount</font> </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#removePointer:"><h4><font color="blue">removePointer:</font> ignored </h4></a><blockquote><font color="green">Keep a refcount of diskful pointers to myself for disk space management.  (Maybe backpointers later.)<br>	 Forget the object if it goes to zero.<br></font></blockquote><a name="#sendSelfTo:"><h4><font color="blue">sendSelfTo:</font> xmtr </h4></a><blockquote><font color="green"><br></font><br>Overrides: <a href="Abraham.html#sendSelfTo:">Abraham</a><br>Overridden by: <a href="BertCrum.html#sendSelfTo:">BertCrum</a> <a href="SensorCrum.html#sendSelfTo:">SensorCrum</a> </blockquote><a name="#setOwnFlags:"><h4><font color="blue">setOwnFlags:</font> newFlags </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#setParent:"><h4><font color="blue">setParent:</font> p </h4></a><blockquote><font color="green"><br></font></blockquote><a name="#verify1"><h4><font color="blue">verify1</font> </h4></a><blockquote><font color="green"><a href="BertCrum.html">BertCrum</a> create verify1<br></font></blockquote><a name="#verify2"><h4><font color="blue">verify2</font> </h4></a><blockquote><font color="green"><a href="BertCrum.html">BertCrum</a> create verify2.<br></font></blockquote><a name="#verifyHeight:"><h4><font color="blue">verifyHeight:</font> height </h4></a><blockquote><font color="green">Create a tree with maxHeight = height and minHeight = 2.<br></font></blockquote><br><br><a href="index.html">Index</a> - <a href="AllPackages.html">All Packages</a> - <a href="AllCategories.html">All Categories</a> - <a href="AllClasses.html">All Classes</a><br></body>
</html>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5004449-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
</body>
</html>
